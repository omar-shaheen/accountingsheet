#pragma checksum "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "bdfd67d5438579b34ef12a9b4043a7d8dec2e7b8"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Pages_Shared_projects), @"mvc.1.0.view", @"/Pages/Shared/projects.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"bdfd67d5438579b34ef12a9b4043a7d8dec2e7b8", @"/Pages/Shared/projects.cshtml")]
    public class Pages_Shared_projects : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\n<!DOCTYPE html>\n<html lang=\"en\">\n\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "bdfd67d5438579b34ef12a9b4043a7d8dec2e7b82725", async() => {
                WriteLiteral(@"
  <meta charset=""UTF-8"">
  <meta name=""viewport"" content=""width=device-width, initial-scale=1, shrink-to-fit=no"">
  <title>Document</title>

  <link href=""https://fonts.googleapis.com/css2?family=Tajawal:wght@200;300;400;500;700;800;900&display=swap""
    rel=""stylesheet"">
    <link rel=""stylesheet"" href=""/assets/libs/bootstrap-4.5.2/bootstrap.min.css"">
    <link rel=""stylesheet"" href=""/assets/libs/datatables/datatables.min.css"">
    <link rel=""stylesheet"" href=""/assets/libs/datatables/dataTables.bootstrap4.min.css"">
    <link rel=""stylesheet"" href=""/assets/css/style.css"">
    <link rel=""stylesheet"" href=""/assets/css/style.css"">
    <link rel=""stylesheet"" href=""/assets/css/media.css"">
    <link rel=""stylesheet"" href=""/assets/css/ar.css"">


");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\n\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "bdfd67d5438579b34ef12a9b4043a7d8dec2e7b84476", async() => {
                WriteLiteral(@"


  <div class=""wrapper-container py-5"">

    

    <div class=""page-daily-inputs page-projects"">
      <div class=""container-fluid"">
        <div class=""title d-flex align-items-center justify-content-between"">
          <div class=""left"">
            <div class=""bredcrumps mb-4"">
              <a href=""/Sheet/index""> الرئيسية </a>
              <span class=""active""> المشاريع </span>
            </div>
          </div>
          <div class=""right"">
");
                WriteLiteral("            <a");
                BeginWriteAttribute("href", " href=\"", 1366, "\"", 1373, 0);
                EndWriteAttribute();
                WriteLiteral(@" class=""h4 m-0 d-block all-costs btn-exportexcel""> تصدير Excel </a>
          </div>
        </div>
         
        <div class=""table-responsive"">
          <table id=""dyanmictable"" class=""table-datatable table table-striped table-bordered text-center"">
            <thead>
              <tr>
                <th>#</th>
                <th>كود المشروع</th>
                <th> اسم المشروع </th>
                <th> اجمالى المنصرف </th>
                <th> اجمالى الوارد </th>
                <th> تفاصيل </th>
                <th>
");
                WriteLiteral("                </th>\n              </tr>\n            </thead>\n            <tbody id=\"tbody\">\n                \n");
#nullable restore
#line 62 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
                var i = 1;var lastcode=0;

#line default
#line hidden
#nullable disable
                WriteLiteral("             \n");
#nullable restore
#line 64 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
               foreach (var item  in ViewBag.listprojects )
              {

#line default
#line hidden
#nullable disable
                WriteLiteral("               <tr>\n                <td> ");
#nullable restore
#line 67 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
                Write(i);

#line default
#line hidden
#nullable disable
                WriteLiteral(" </td>\n                <td class=\"itemkey\">");
#nullable restore
#line 68 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
                               Write(item.Id);

#line default
#line hidden
#nullable disable
                WriteLiteral(" <input type=\"hidden\"");
                BeginWriteAttribute("value", "  value=\"", 2365, "\"", 2382, 1);
#nullable restore
#line 68 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
WriteAttributeValue("", 2374, item.Id, 2374, 8, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral("></td>\n                <td class=\"editthis\">");
#nullable restore
#line 69 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
                                Write(item.Name);

#line default
#line hidden
#nullable disable
                WriteLiteral(" </td>\n                <td > ");
#nullable restore
#line 70 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
                 Write(item.expense);

#line default
#line hidden
#nullable disable
                WriteLiteral("  </td>\n                <td > ");
#nullable restore
#line 71 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
                 Write(item.income);

#line default
#line hidden
#nullable disable
                WriteLiteral(" </td>\n                <td class=\"detail\"> <a");
                BeginWriteAttribute("href", " href=\"", 2566, "\"", 2607, 2);
                WriteAttributeValue("", 2573, "/Sheet/projectdetail?code=", 2573, 26, true);
#nullable restore
#line 72 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
WriteAttributeValue("", 2599, item.Id, 2599, 8, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(@"> تفاصيل </a> </td>
                <td>
                    <div class=""btn-group pull-right"">
  <button type=""button"" id=""bEdit"" class="" btn btn-sm btn-default"" onclick=""rowEdit(this);"">
    <span class=""icon-edit""> </span>
  </button>
  <button type=""button"" id=""bElim"" class="" btn btn-sm btn-default"" onclick=""rowElim(this);"">
    <span class=""icon-trash-empty""> </span>
  </button>
  <button type=""button"" id=""bAcep"" class="" btn btn-sm btn-default"" style=""display: none;""  onclick=""rowAcep(this);"">
    <span class=""icon-ok""> </span>
  </button>
  <button type=""button"" id=""bCanc"" class="" btn btn-sm btn-default""  style=""display: none;""  onclick=""rowCancel(this);"">
    <span class=""icon-cancel""></span>
  </button>
                    </div>
                </td>
              </tr>
");
#nullable restore
#line 90 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
              i++;
              lastcode=item.Id+1;
              }

#line default
#line hidden
#nullable disable
                WriteLiteral("               <tr>\n                <td>");
#nullable restore
#line 94 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
               Write(i);

#line default
#line hidden
#nullable disable
                WriteLiteral(" </td>\n                <td class=\"itemkey\" >");
#nullable restore
#line 95 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
                                Write(lastcode);

#line default
#line hidden
#nullable disable
                WriteLiteral(" <input type=\"hidden\"  value=\"0\"></td>\n                <td class=\"editthis\"><input class=\"form-control input-sm\"");
                BeginWriteAttribute("value", " value=\"", 3674, "\"", 3682, 0);
                EndWriteAttribute();
                WriteLiteral(@"> </td>
                <td > 0  </td>
                <td > 0 </td>
                <td class=""detail"" >  <a href=""/Sheet/projectdetail"" style=""display: none;"" > تفاصيل </a>  </td>
                <td > 
                   <div class=""btn-group pull-right"">
                      <button type=""button"" id=""bEdit"" class="" btn btn-sm btn-default"" style=""display: none;"" onclick=""rowEdit(this);"">
    <span class=""icon-edit""> </span>
  </button>
  <button type=""button"" id=""bElim"" class="" btn btn-sm btn-default"" style=""display: none;"" onclick=""rowElim(this);"">
    <span class=""icon-trash-empty""> </span>
  </button>
  <button type=""button"" id=""bAcep"" class="" btn btn-sm btn-default""  onclick=""rowAcep(this);"">
    <span class=""icon-ok""> </span>
  </button>
  <button type=""button"" id=""bCanc"" class="" btn btn-sm btn-default"" style=""display:none;""  onclick=""rowCancel(this);"">
    <span class=""icon-cancel""></span>
  </button>
</div> 

</td>
              </tr>
            
            </tbody>
          </table>
           ");
                WriteLiteral(" <input type=\"hidden\" class=\"holdkey\"");
                BeginWriteAttribute("value", " value=\"", 4744, "\"", 4761, 1);
#nullable restore
#line 121 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
WriteAttributeValue("", 4752, lastcode, 4752, 9, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(">\n               <input type=\"hidden\" class=\"holdorder\"");
                BeginWriteAttribute("value", " value=\"", 4817, "\"", 4827, 1);
#nullable restore
#line 122 "D:\engineeringoffice\accountingsheet\Pages\Shared\projects.cshtml"
WriteAttributeValue("", 4825, i, 4825, 2, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(@">
        </div>

      </div>
    </div>

  </div>




  <script src=""/assets/js/jquery-3.5.1.min.js""></script>
  <script src=""/assets/libs/bootstrap-4.5.2/popper.min.js""></script>
  <script src=""/assets/libs/bootstrap-4.5.2/bootstrap.bundle.min.js""></script>
  <script src=""/assets/libs/datatables/datatables.min.js""></script>
  <script src=""/assets/libs/datatables/dataTables.bootstrap4.min.js""></script>
");
                WriteLiteral(@"  <script src=""/assets/libs/chart.bundle.min.js""></script>
  <script src=""/assets/js/scripts.js""></script>


<script>
var $lastcode=$('.holdkey').val();
var $lastorder=$('.holdorder').val();

function rowEdit(but) 
{ //Inicia la edición de una fila
   var $row = $(but).parents('tr'); //accede a la fila
   var $td = $row.find('td.editthis'); //lee campos
   var cont = $td.html(); //lee contenido
   var div = '<div style=""display: none;"">' + cont + '</div>'; //guarda contenido
   var input = '<input class=""form-control input-sm""  value=""' + cont + '"">';
   $td.html(div + input); //fija contenido
   FijModoEdit(but);
}

function formattablerow(){
  var newColHtml = `
<div class=""btn-group pull-right"">
  <button type=""button"" id=""bEdit"" class="" btn btn-sm btn-default"" style=""display:none;"" onclick=""rowEdit(this);"">
    <span class=""icon-edit""> </span>
  </button>
  <button type=""button"" id=""bElim"" class="" btn btn-sm btn-default"" style=""display:none;"" onclick=""rowElim(this);"">
    <span class=""icon-trash-empty""> <");
                WriteLiteral(@"/span>
  </button>
  <button type=""button"" id=""bAcep"" class="" btn btn-sm btn-default""  onclick=""rowAcep(this);"">
    <span class=""icon-ok""> </span>
  </button>
  <button type=""button"" id=""bCanc"" class="" btn btn-sm btn-default""  style=""display:none;"" onclick=""rowCancel(this);"">
    <span class=""icon-cancel""></span>
  </button>
</div>
`;
  return markup=""<tr><td>""+$lastorder+""</td><td class='itemkey'>""+$lastcode+""<input type='hidden'  value='0'></td><td class='editthis'><input class='form-control input-sm' value=''></td><td>0</td><td>0</td><td></td><td>""+newColHtml+""</td></tr>"";
}

function rowAcep(but) {
   //Acepta los cambios de la edición
   var $row = $(but).parents('tr'); //accede a la fila
    var $td = $row.find('td.editthis'); //lee campos
    var cont = $td.find('input').val(); //lee contenido del input
    $td.html(cont); //fija contenido y elimina controles
    var $projectname =cont; //lee campos
    var $tdkey = $row.find('td.itemkey');
    var $projectid = $tdkey.find('input').val();
    $tdkey.f");
                WriteLiteral(@"ind('input').val($lastcode);
    if($projectid>0){
    }else{
      $lastcode=parseInt($lastcode)+1;
      $lastorder=parseInt($lastorder)+1;
      $projectid=0;
      $(""table tbody"").append(formattablerow()); 
    }
      //update
    $.ajax({
        type: ""POST"",
        url: ""/Sheet/addorupdateproject/"",
        data: { 
            id: $projectid, // < note use of 'this' here
            name: $projectname 
        },
        success: function(result) {
            alert('ok');
        },
        error: function(result) {
            alert('error');
        }
    });
   

   FijModoNormal(but);
//params.onEdit($row);
   //UPDATE DATABASE
   
}

function FijModoNormal(but) {
   $(but).parent().find('#bAcep').hide();
   $(but).parent().find('#bCanc').hide();
   $(but).parent().find('#bEdit').show();
   $(but).parent().find('#bElim').show();
   var $row = $(but).parents('tr'); //accede a la fila
   $row.attr('id', ''); //quita marca
}

function FijModoEdit(but) {
   $(but).parent().find('#bAcep').show();
 ");
                WriteLiteral(@"  $(but).parent().find('#bCanc').show();
   $(but).parent().find('#bEdit').hide();
   $(but).parent().find('#bElim').hide();
   var $row = $(but).parents('tr'); //accede a la fila
   $row.attr('id', 'editing'); //indica que está en edición
}


function rowElim(but) { //Elimina la fila actual
   var $row = $(but).parents('tr'); //accede a la fila
   var $tdkey = $row.find('td.itemkey');
    var $projectid = $tdkey.find('input').val(); //params.onBeforeDelete($row); 
  $.ajax({
      type: ""POST"",
      url: ""/Sheet/deleteproject/"",
      data: { 
          id: $projectid, // < note use of 'this' here
      },
      success: function(result) {
          alert('ok');
      },
      error: function(result) {
          alert('error');
      }
  });
  $lastorder=$lastorder-1;
   $row.remove();
  // params.onDelete();
}


function rowCancel(but) {
   //Rechaza los cambios de la edición
   var $row = $(but).parents('tr'); //accede a la fila
   var $td = $row.find('td.editthis'); //lee campos
   var cont = $td.find('d");
                WriteLiteral("iv\').html(); //lee contenido del div\n   $td.html(cont); //fija contenido y elimina controles\n   FijModoNormal(but);\n}\n\n</script>\n  \n\n");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\n\n</html>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
